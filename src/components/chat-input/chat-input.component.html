<form [formGroup]="form()" (ngSubmit)="onSubmit($event)" class="relative flex items-end w-full">
  <div class="relative flex-1">
    <textarea
      #promptInput
      formControlName="prompt"
      [placeholder]="localService.locals().what_do_you_want_to_know"
      [disabled]="isStreaming()"
      (keydown.enter)="onEnter($event)"
      [class.h-16]="!isFirstMessage()"
      [class.h-32]="isFirstMessage()"
      class="w-full px-4 pr-16 py-3 bg-white text-primary placeholder-primary/50 border-2 border-primary rounded-xl resize-none focus:outline-none focus:ring-2 focus:ring-white/30 transition-all duration-200"
    ></textarea>

    <button
      type="submit"
      [disabled]="form().invalid || isStreaming()"
      class="bg-primary absolute rtl:left-2 ltr:right-2 p-0 bottom-3 rtl:md:left-2 ltr:md:right-2 md:p-1 rounded-full transition cursor-pointer"
    >
      <div class="flex items-center justify-center min-w-[2.2rem] min-h-[2.2rem]">
        <i [class]="'ARROW_UP' | icon" class="text-2xl transition-all duration-300 ease-out text-white" aria-hidden="true"></i>
      </div>
    </button>
  </div>
</form>
